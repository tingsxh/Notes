### 索引
B+树是一颗平衡树
innodb 内部的索引可以区分为聚集索引和辅助索引
聚集索引就是按照主键构造的B+树，叶子节点存放的就是行的数据
辅助索引主要是先检索到数据的主键，然后通过聚集索引找到真正的数据行

### 两种创建方式:
ALTER TABLE tb_xxx add unique index tb_xxx (clo_name)
CREATE INDEX tb_xxx on table (clo_name)

mysql 执行 DDL
最早的版本是会创建一张新临时表，然后把原表数据导入临时表，接着删除原表，最后把临时表重命名为原来的表即可。
FIC 模式的时候会在执行创建，删除索引的时候对表加一个S锁，其他事务可以读，但不能发生写的事务

SHOW INDEX可以展示出

### 联合索引的特点

对于联合索引来说，第二个键值是相对与第一个键值来说已经排好序的。

#### 覆盖索引
比如对于查询，单个字段，或者count(*) 这种的sql，可以指查找辅助索引即可完成查询，不需要再进行聚集索引的查找

但是如果查找辅助索引的数据量太大的话，优化器会选择使用聚集索引全表扫描操作来完成数据查询。

#### MRR 优化：
先读取辅助索引，取得了聚集索引之后，再根据主键顺序排序，然后按照主键顺序查找聚集索引，可以极大的减少聚集索引的离散读操作。

#### 哈希索引
内存中数据页(16KB) 的寻址方法
内存中采用hash表的方式来实现,hash 表的大小是 与内存最大页数的两倍最接近的质数
K=space_id<<20+space_id+offset (space_id 是表空间的id)

#### 全文检索
Innodb 的全文索引存在如下限制
1.每张表只能有一个全文检索的索引
由多列组合而成的全文检索列，必须相同字符集
全文索引检索查询语法
select * from table where match(body) against ('test')
