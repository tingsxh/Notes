### HTTPS 通信过程

* Https 是基于TSL加密通信的，https的握手协议大致过程如下所示。

1. 客户端向服务端索要公钥信息，会带有如下请求参数

   * 一个明文随机数字A
   * 客户端支持的加密协议，支持的公钥加密方法。

2. 服务端接收到之后会回复如下消息

   * 服务端端公钥信息，公钥信息放在签名证书中。
   * 服务器确认的通信协议，加密方法
   * 服务器生成的一个随机数B

3. 客户端收到之后，首先判断证书是否可以信耐，如果不可以则会提示用户是否继续相信该证书，如果证书没问题则会取出公钥，并且发送如下数据。此时，客户端也将根据三次随机数字生成一个密钥K用于会话加密。

   * 一个随机数字C,使用公钥加密进行传输。
   * 编码通知，表示接下来将使用对称加密进行通信。
   * 前面所有发送消息的hash值，用于计算。

4. 服务端最后的回应，服务端收到随机数字C之后，会将所有的三次随机数生成一个密钥K，用于会话加密。

   * 服务器返回，确认使用对称加密方式通信
* 服务器之前发送的所有内容的hash值，供客户端做校验。
5. 至此，一个完整的https通信的握手流程算是完成，之后的通信方式就和http类似的。