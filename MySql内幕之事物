## 事务分类

* 扁平事务（带保存点的扁平事务）
* 链式事务
* 嵌套事务
* 分布式事务

### 事务的实现

* redo 日志 记录的是innodb 存储引擎层面的逻辑日志，主要内容是记录页的修改逻辑，且是幂等的
* LSN 代表写入日志的总量，checkpoint的位置，页的版本
* undo 日志 主要是用于完成回滚事务，和保证事务的一致性即MVVC.在undo 日志中，针对每一个insert 都有一个delete 逻辑日志，针对每一个delete 都有一个insert逻辑日志，
* 针对每一个update 都有一个相反的update 操作。在实现MVVC 的过程中，事务可以根据undo 日志，读取到指定版本的数据
group commit 
* 一次fsync 可以刷新确保多个事务日志持久化到redo 日志文件中,二阶段提交是指在保证 数据库层面的二进制日志 和存储引擎层面的redo 日志的一致性
